<script src="./js/jquery-3.2.1.min.js"></script>
<script type="text/javascript">
	//meteor
	var SetTime = [];
	var start = [];
	var total_time = 1200; //20분
	SetTime[0] = SetTime[1] = SetTime[3] = SetTime[5] = SetTime[6] = SetTime[7] = SetTime[9] = SetTime[11] = SetTime[12] = 10;
	start[1] = start[3] = start[5] = start[7] = start[9] = start[11] = start[12] = start[6] = start[0] = 0;

	var audio = new Audio('./sound/sound.mp3');

	function set_time(num) {
		var name = "place_"+num;

		var msg = SetTime[num] + "초";
		$("."+name).html(msg);

        SetTime[num]--;

        if (SetTime[num] < 0) {
            SetTime[num] = 10;
            $(".div_"+num).css("background-color","gray");
            //audio.play();
            clearInterval(start[num]);
            start[num] = 0;
            return false;
        }  
	}
	function meteor(num) {
		$(".div_"+num).css("background-color","yellow");
		var class_name = "place_"+num;
		if(start[num] == 0) {
			start[num] = setInterval(function() { set_time(num); }, 1000);
		}
		// IE 제외
        if(event.stopPropagation()){
            event.stopPropagation();
        }
         
        // IE 전용
        event.cancelBubble = true;
	}

	function meteor_yellow(type) {
		switch(type) {
			case "top":
				meteor(12);meteor(11);meteor(1);
			break;
			case "bottom":
				meteor(7);meteor(6);meteor(5);
			break;
			case "left":
				meteor(11);meteor(9);meteor(7);
			break;
			case "right":
				meteor(1);meteor(3);meteor(5);
			break;
		}
	}
	function boss_start() {
		setInterval(function() { boss_time(); }, 1000);
	}
	function boss_time() {
		var name = "title_time";

		var msg = total_time;
		//$("."+name).html(msg);
		if(total_time / 60 > 59) {
			var hour = Math.floor(total_time/60/60);
		} else {
			var hour = "00";
		}
		if(total_time / 60 > 0) {
			var minute = Math.floor(total_time/60);
			var second = (total_time%60);
			if(second == 0) {
				second = "00";
			}
			//alert(total_time+"||"+second);
		} else {
			var minute = "00";
			var second = total_time;
		}

		var hour; var minute; var second;

		var show_time = hour+":"+minute+":"+second;
		$("."+name).html(show_time);

        total_time--;

        if (total_time < 0) {
            total_time = 1200;
            return false;
        }  
	}
</script>
<style type="text/css">
	.place {
		z-index:999999;
		border:1px solid black;padding:10px;width:100px;height:100px;
		float:left;
		-ms-transform: rotate(45deg); /* IE 9 */
	    -webkit-transform: rotate(45deg); /* Chrome, Safari, Opera */
	    transform: rotate(45deg);
	}
	.place p {
		-ms-transform: rotate(315deg); /* IE 9 */
	    -webkit-transform: rotate(315deg); /* Chrome, Safari, Opera */
	    transform: rotate(315deg);	
	    margin-left:-50px;
	}
	.place div {
		color:red;
		-ms-transform: rotate(315deg); /* IE 9 */
	    -webkit-transform: rotate(315deg); /* Chrome, Safari, Opera */
	    transform: rotate(315deg);	
	    margin-left:-50px;
	}
	.place input {
		cursor:pointer;
	}
	.parent_div {
		/*z-index: -999;*/
	}
	.title {
		font-size:35px;
		width:700px;
		background-color:gray;
		color:yellow;
		padding:30px;
	}
	.title input {
		margin-top:10px;
		width:160px;
		height:50px;
		cursor:pointer;
	}
	.title_time {
		margin-left:10px;
	}
	
</style>

<div class="title">
	<div>광폭화까지</div>
	<div class="title_time">00:20:00</div>
	<div><input type="button" onclick="boss_start();" value="시작"/></div>
</div>
<center>
<div style="margin-left:300px;margin-top:50px;">	
	<div class="parent_div">
		<div class="place div_12">
			<!--<p>12</p>-->
			<div style="margin:5px 0 0 -65px">
				<input type="button" value="노메" onclick="meteor_yellow('top');">
			</div>
			<div class="place_12" style="margin:8px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" value="click" onclick="meteor(12)" />
			</div>
		</div>
		<div class="place div_1" style="margin:86px 0 0 -36px;">
			<p>1</p>
			<div class="place_1" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" value="click" onclick="meteor(1)" />
			</div>
		</div>
		<div class="place div_3" style="margin:172px 0 0 -36px;">
			<p>3</p>
			<div class="place_3" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" value="click" onclick="meteor(3)" />
			</div>
		</div>
	</div>
	<div class="parent_div">	
		<div class="place div_11" style="margin:86px 0 0 -380px;">
			<p>11</p>
			<div class="place_11" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" class="meteor_div11" value="click" onclick="meteor(11)" />
			</div>
		</div>
		<div class="place div_0" style="margin:172px 0 0 -294px;">
			<p>0</p>
			<div class="place_0" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" class="meteor_div0" value="click" onclick="meteor(0)" />
			</div>
		</div>
		<div class="place div_5" style="margin:258px 0 0 -208px;">
			<p>5</p>
			<div class="place_5" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" class="meteor_div5" value="click" onclick="meteor(5)" />
			</div>
		</div>
	</div>
	<div class="parent_div">	
		<div class="place div_9" style="margin:172px 0 0 -466px;">
			<p>9</p>
			<div class="place_9" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" value="click" onclick="meteor(9)" />
			</div>
		</div>
		<div class="place div_7" style="margin:258px 0 0 -380px;">
			<p>7</p>
			<div class="place_7" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" value="click" onclick="meteor(7)" />
			</div>
		</div>
		<div class="place div_6" style="margin:344px 0 0 -294px;">
			<p>6</p>
			<div class="place_6" style="margin:-15px 0 0 -5px;">00:00:00</div>
			<div style="margin:5px 0 0 45px">
				<input type="button" value="click" onclick="meteor(6)" />
			</div>
		</div>
	</div>
</div>
</center>